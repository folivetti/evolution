<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Control.Evolution</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption empty">&nbsp;</span><ul class="links" id="page-menu"><li><a href="src/Control.Evolution.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) Fabricio Olivetti de Franca 2022</td></tr><tr><th>License</th><td>GPL-3</td></tr><tr><th>Maintainer</th><td>fabricio.olivetti@gmail.com</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>POSIX</td></tr><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Control.Evolution</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>The evolution package supports the creation of evolutionary and bio-inspired algorithms
with an user friendly domain specific language.</p><p>The package provides the main reproduction and selection strategies, 
a DSL to describe the evolution process, a function that runs the 
evolution algorithm with support to concurrency, and a customizable
DSL to describe the Crossover and Mutation operators for specific
class of problems.</p><p>The main idea is that the user focus only on implementing the 
crossover and mutation operators, the individual representation,
a fitness function, and a random individual generator. After that,
the user can customize the main loop of the evolutionary process
using the DSL and without worrying about implementing the process.</p><p>Example - Simple GA:</p><p>Let's suppose we are working with a binary representation and we want
to support a one-point crossover, single point mutation, multi-point mutation.</p><p>We must first create a data type with the chromossome and a fitness field and
add support to `Eq, Ord` classes by comparing the fitness:</p><pre>data Bin = Bin { _chromo :: [Bool]
               , _fit :: Double
               }
               
instance Eq Bin where
  t1 == t2 = _fit t1 == _fit t2
instance Ord Bin where
  t1 &lt;= t2 = _fit t1 &lt;= _fit t2
</pre><p>After that, we instantiate the <code><a href="Control-Evolution.html#t:Solution" title="Control.Evolution">Solution</a></code> class to indicate
how to retrieve the fitness of the individual and check
whether it is feasible or not.</p><pre>instance Solution Bin where
  _getFitness = _fit 
  _isFeasible = const 0.0 -- always feasible
</pre><p>Next, we instantiate the <code><a href="Control-Evolution.html#t:EvoClass" title="Control.Evolution">EvoClass</a></code> to create
the DSL for the crossover and mutation operators:</p><pre>instance EvoClass Bin where 
  data Crossover Bin = OnePoint deriving (Show, Read)
  data Mutation  Bin = SinglePoint | MultiPoints deriving (Show, Read)
</pre><p>Finally, we implement the required functions and create an <code><a href="Control-Evolution.html#t:Interpreter" title="Control.Evolution">Interpreter</a></code>:</p><pre>cx OnePoint [p1,p2] = do
  let c1 = _chromo p1
      c2 = _chromo p2
  ix &lt;- randomIndex (length c1)
  let c = take ix c1 &lt;&gt; drop ix c2
  pure $ Bin c 0.0 -- the individual will be evaluated later
  
mut SinglePoint (Bin c f) = do
  ix &lt;- randomIndex (length c)
  let c' = swap ix c
  pure $ Bin c' 0.0
  
randomIndividual n = do
    c <a href="-">take n &lt;$</a> state randoms
    pure $ Bin c 0.0
    
-- how many True in the chromossome
fitness (Bin c _) = pure $ Bin c (length $ filter id c)

interpret :: Interpreter Test
interpret = Funs cx mut randomIndividual fitness
</pre><p>We can create a customized logger to store the information
at every generation.</p><pre>logger :: Population a -&gt; IO ()
logger pop  = do
  let best  = getBestFitness pop
      worst = getBestFitness worst
      avg   = getAvgFitness
  print $ &quot;The best fitness is: &quot; &lt;&gt; show best
  print $ &quot;The worst fitness is: &quot; &lt;&gt; show worst
  print $ &quot;The avg fitness is: &quot; &lt;&gt; show avg
</pre><p>Now you can define your evolutionary algorithm using the DSL and
run it using <code><a href="Control-Evolution.html#v:runEvolution" title="Control.Evolution">runEvolution</a></code></p><pre>evo = Reproduce Generational 
        [With AllOf 
           :&gt; Cross OnePoint 2 0.3 (Tournament 2) 
           :&gt; Mutate SinglePoint 0.7 
           :&gt; Done
        ]

-- run the evolution with 100 individuals for 500 generations
-- and random seed <code>g</code>
runEvolution 500 100 logger evo g interpret
</pre><p>We can, for example, create a an evolutionary algorithm that 
creates two child population: one with crossover and mutation
and another with only mutation, and then we reproduce using 
tournament selection.</p><pre>evo = Reproduce (Probabilistic (Tournament 2))
        [ With AllOf :&gt; Cross OnePoint 2 0.3 (Tournament 2) :&gt; Mutate SinglePoint 0.7 :&gt; Done
        , With AllOf :&gt; Mutate MultiPoints 0.9 :&gt; Done
        ]
</pre><p>We can even parse the evolution process from a file. If we have a file &quot;ga.evo&quot; with the content</p><pre>Reproduce Generational 
    [With AllOf 
       :&gt; Cross OnePoint 2 0.3 (Tournament 2) 
       :&gt; Mutate SinglePoint 0.7 
       :&gt; Done
    ]
</pre><p>We can automatically parse as:</p><pre>evo <a href="-">read &lt;$</a> readFile &quot;ga.evo&quot;
</pre><p>The evolution DSL is described as a reproduction operator
followed by a list of evolution cycles.</p><pre>Reproduce <a href="reproduction">operator</a> [<a href="evolution">cycle</a>]
</pre><p>The evolution cycle can be either <code><a href="Control-Evolution.html#v:Parent" title="Control.Evolution">Parent</a></code>, when you just want
to pass the current population, `<a href="operator">operator</a> :&gt; <a href="evolution">cycle</a>`, 
when you want to chain two operators, and <code><a href="Control-Evolution.html#v:Done" title="Control.Evolution">Done</a></code>, marking the end of
the cycle.</p><p>The operator can be </p><pre>Cross <a href="crossover">operator</a> <a href="n-parents">n-parents</a> <a href="probability">probability</a> <a href="selection">operator</a>
Mutate <a href="mutation">operator</a> <a href="probability">probability</a>
With <a href="predicate">predicate</a>
</pre><p>The <code><a href="Control-Evolution.html#v:With" title="Control.Evolution">With</a></code> operator is used to filter the population and can be <code><a href="Control-Evolution.html#v:AllOf" title="Control.Evolution">AllOf</a></code> (no filter),
<code><a href="Control-Evolution.html#v:Feasible" title="Control.Evolution">Feasible</a></code>, <code><a href="Control-Evolution.html#v:Infeasible" title="Control.Evolution">Infeasible</a></code>.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:runEvolution">runEvolution</a> :: (<a href="Control-Evolution.html#t:Solution" title="Control.Evolution">Solution</a> a, NFData a) =&gt; Int -&gt; Int -&gt; (<a href="Control-Evolution.html#t:Population" title="Control.Evolution">Population</a> a -&gt; IO ()) -&gt; <a href="Control-Evolution.html#t:Evolution" title="Control.Evolution">Evolution</a> a -&gt; StdGen -&gt; <a href="Control-Evolution.html#t:Interpreter" title="Control.Evolution">Interpreter</a> a -&gt; IO ([Double], a)</li><li class="src short"><span class="keyword">type</span> <a href="#t:Rnd">Rnd</a> a = StateT StdGen IO a</li><li class="src short"><span class="keyword">class</span> (Show (<a href="Control-Evolution.html#t:Crossover" title="Control.Evolution">Crossover</a> t), Read (<a href="Control-Evolution.html#t:Crossover" title="Control.Evolution">Crossover</a> t), Show (<a href="Control-Evolution.html#t:Mutation" title="Control.Evolution">Mutation</a> t), Read (<a href="Control-Evolution.html#t:Mutation" title="Control.Evolution">Mutation</a> t)) =&gt; <a href="#t:EvoClass">EvoClass</a> t <span class="keyword">where</span><ul class="subs"><li><span class="keyword">data</span> <a href="#t:Crossover">Crossover</a> t :: *</li><li><span class="keyword">data</span> <a href="#t:Mutation">Mutation</a> t :: *</li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:Population">Population</a> a = Vector a</li><li class="src short"><span class="keyword">class</span> Ord a =&gt; <a href="#t:Solution">Solution</a> a <span class="keyword">where</span><ul class="subs"><li><a href="#v:_getFitness">_getFitness</a> :: a -&gt; Double</li><li><a href="#v:_isFeasible">_isFeasible</a> :: a -&gt; Bool</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Interpreter">Interpreter</a> a = <a href="#v:Funs">Funs</a> {<ul class="subs"><li><a href="#v:_cx">_cx</a> :: <a href="Control-Evolution.html#t:Crossover" title="Control.Evolution">Crossover</a> a -&gt; [a] -&gt; <a href="Control-Evolution.html#t:Rnd" title="Control.Evolution">Rnd</a> a</li><li><a href="#v:_mut">_mut</a> :: <a href="Control-Evolution.html#t:Mutation" title="Control.Evolution">Mutation</a> a -&gt; a -&gt; <a href="Control-Evolution.html#t:Rnd" title="Control.Evolution">Rnd</a> a</li><li><a href="#v:_create">_create</a> :: <a href="Control-Evolution.html#t:Rnd" title="Control.Evolution">Rnd</a> a</li><li><a href="#v:_evaluate">_evaluate</a> :: a -&gt; <a href="Control-Evolution.html#t:Rnd" title="Control.Evolution">Rnd</a> a</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:Reproduction">Reproduction</a><ul class="subs"><li>= <a href="#v:Generational">Generational</a></li><li>| <a href="#v:KeepBest">KeepBest</a></li><li>| <a href="#v:ReplaceWorst">ReplaceWorst</a></li><li>| <a href="#v:Merge">Merge</a></li><li>| <a href="#v:Probabilistic">Probabilistic</a> <a href="Control-Evolution.html#t:Selection" title="Control.Evolution">Selection</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Selection">Selection</a><ul class="subs"><li>= <a href="#v:Tournament">Tournament</a> Int</li><li>| <a href="#v:RouletteWheel">RouletteWheel</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Predicate">Predicate</a><ul class="subs"><li>= <a href="#v:Feasible">Feasible</a></li><li>| <a href="#v:Infeasible">Infeasible</a></li><li>| <a href="#v:AllOf">AllOf</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Evolution">Evolution</a> t = <a href="#v:Reproduce">Reproduce</a> <a href="Control-Evolution.html#t:Reproduction" title="Control.Evolution">Reproduction</a> [<a href="Control-Evolution.html#t:EvoCycle" title="Control.Evolution">EvoCycle</a> t]</li><li class="src short"><span class="keyword">data</span> <a href="#t:EvoCycle">EvoCycle</a> t<ul class="subs"><li>= (<a href="Control-Evolution.html#t:Op" title="Control.Evolution">Op</a> t) <a href="#v::-62-">:&gt;</a> (<a href="Control-Evolution.html#t:EvoCycle" title="Control.Evolution">EvoCycle</a> t)</li><li>| <a href="#v:Done">Done</a></li><li>| <a href="#v:Parent">Parent</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Op">Op</a> t<ul class="subs"><li>= <a href="#v:Cross">Cross</a> (<a href="Control-Evolution.html#t:Crossover" title="Control.Evolution">Crossover</a> t) Int Double <a href="Control-Evolution.html#t:Selection" title="Control.Evolution">Selection</a></li><li>| <a href="#v:Mutate">Mutate</a> (<a href="Control-Evolution.html#t:Mutation" title="Control.Evolution">Mutation</a> t) Double</li><li>| <a href="#v:With">With</a> <a href="Control-Evolution.html#t:Predicate" title="Control.Evolution">Predicate</a></li></ul></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:runEvolution" class="def">runEvolution</a> <a href="src/Control.Evolution.html#runEvolution" class="link">Source</a> <a href="#v:runEvolution" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="Control-Evolution.html#t:Solution" title="Control.Evolution">Solution</a> a, NFData a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; Int</td><td class="doc"><p>number of generations </p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>population size</p></td></tr><tr><td class="src">-&gt; (<a href="Control-Evolution.html#t:Population" title="Control.Evolution">Population</a> a -&gt; IO ())</td><td class="doc"><p>a logger function to run at every generation </p></td></tr><tr><td class="src">-&gt; <a href="Control-Evolution.html#t:Evolution" title="Control.Evolution">Evolution</a> a</td><td class="doc"><p>Evolutionary process </p></td></tr><tr><td class="src">-&gt; StdGen</td><td class="doc"><p>random number generator</p></td></tr><tr><td class="src">-&gt; <a href="Control-Evolution.html#t:Interpreter" title="Control.Evolution">Interpreter</a> a</td><td class="doc"><p>Interpreter of evolutionary process </p></td></tr><tr><td class="src">-&gt; IO ([Double], a)</td><td class="doc"><p>returns the average fitness of every generation and the final champion</p></td></tr></table></div><div class="doc"><p>Runs the evolutionary process </p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Rnd" class="def">Rnd</a> a = StateT StdGen IO a <a href="src/Control.Evolution.html#Rnd" class="link">Source</a> <a href="#t:Rnd" class="selflink">#</a></p><div class="doc"><p>A random element is the state monad with StdGen as a state</p></div></div><div class="top"><p class="src"><span class="keyword">class</span> (Show (<a href="Control-Evolution.html#t:Crossover" title="Control.Evolution">Crossover</a> t), Read (<a href="Control-Evolution.html#t:Crossover" title="Control.Evolution">Crossover</a> t), Show (<a href="Control-Evolution.html#t:Mutation" title="Control.Evolution">Mutation</a> t), Read (<a href="Control-Evolution.html#t:Mutation" title="Control.Evolution">Mutation</a> t)) =&gt; <a id="t:EvoClass" class="def">EvoClass</a> t <a href="src/Control.Evolution.html#EvoClass" class="link">Source</a> <a href="#t:EvoClass" class="selflink">#</a></p><div class="doc"><p>Data family for Crossover and Mutation</p><p>as each algorithm/problem <code>t</code> has a different set of 
 possible operators, the user must provide a data type
 for Crossover and Mutation.</p><p>See test/Specs.hs for an example.</p></div><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">data</span> <a id="t:Crossover" class="def">Crossover</a> t :: * <a href="src/Control.Evolution.html#Crossover" class="link">Source</a> <a href="#t:Crossover" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a id="t:Mutation" class="def">Mutation</a> t :: * <a href="src/Control.Evolution.html#Mutation" class="link">Source</a> <a href="#t:Mutation" class="selflink">#</a></p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Population" class="def">Population</a> a = Vector a <a href="src/Control.Evolution.html#Population" class="link">Source</a> <a href="#t:Population" class="selflink">#</a></p><div class="doc"><p>A population of solutions is a vector </p></div></div><div class="top"><p class="src"><span class="keyword">class</span> Ord a =&gt; <a id="t:Solution" class="def">Solution</a> a <span class="keyword">where</span> <a href="src/Control.Evolution.html#Solution" class="link">Source</a> <a href="#t:Solution" class="selflink">#</a></p><div class="doc"><p>A Solution class must implement a function to 
 evaluate this solution, a function to retrieve its fitness
 and another function to check the feasibility of the solution.</p><p>The evaluation function is inside the state monad as it may
 need to sample some instances to evaluate (i.e., lexicase selection).</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:_getFitness" class="def">_getFitness</a> :: a -&gt; Double <a href="src/Control.Evolution.html#_getFitness" class="link">Source</a> <a href="#v:_getFitness" class="selflink">#</a></p><p class="src"><a id="v:_isFeasible" class="def">_isFeasible</a> :: a -&gt; Bool <a href="src/Control.Evolution.html#_isFeasible" class="link">Source</a> <a href="#v:_isFeasible" class="selflink">#</a></p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Interpreter" class="def">Interpreter</a> a <a href="src/Control.Evolution.html#Interpreter" class="link">Source</a> <a href="#t:Interpreter" class="selflink">#</a></p><div class="doc"><p>The <code><a href="Control-Evolution.html#t:Interpreter" title="Control.Evolution">Interpreter</a></code> data type stores all the necessary functions
 for the evolution process. Each of these functions should
 receive the type of operation as the first parameter and throw an error
 in case an operator is unsupported:</p><p>`_cx OnePoint pop = myOnePoint pop`
 `_cx NPoints  pop = error &quot;NPoints crossover not implemented for this algorithm&quot;`</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Funs" class="def">Funs</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:_cx" class="def">_cx</a> :: <a href="Control-Evolution.html#t:Crossover" title="Control.Evolution">Crossover</a> a -&gt; [a] -&gt; <a href="Control-Evolution.html#t:Rnd" title="Control.Evolution">Rnd</a> a</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:_mut" class="def">_mut</a> :: <a href="Control-Evolution.html#t:Mutation" title="Control.Evolution">Mutation</a> a -&gt; a -&gt; <a href="Control-Evolution.html#t:Rnd" title="Control.Evolution">Rnd</a> a</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:_create" class="def">_create</a> :: <a href="Control-Evolution.html#t:Rnd" title="Control.Evolution">Rnd</a> a</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:_evaluate" class="def">_evaluate</a> :: a -&gt; <a href="Control-Evolution.html#t:Rnd" title="Control.Evolution">Rnd</a> a</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Reproduction" class="def">Reproduction</a> <a href="src/Control.Evolution.html#Reproduction" class="link">Source</a> <a href="#t:Reproduction" class="selflink">#</a></p><div class="doc"><p>Reproduction algorithms</p><ul><li>Generational: the children replaces the parent population</li><li>KeepBest: generational but keeping the best individual (either from parent or child population)</li><li>ReplaceWorst: replaces the worst individuals with new random solutions or sampled solutions from the parent</li><li>Merge: merge all the populations from different generation process</li><li>Probabilistic: sample individuals from the combined parent+child populations using a Selection strategy</li></ul></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Generational" class="def">Generational</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:KeepBest" class="def">KeepBest</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ReplaceWorst" class="def">ReplaceWorst</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Merge" class="def">Merge</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Probabilistic" class="def">Probabilistic</a> <a href="Control-Evolution.html#t:Selection" title="Control.Evolution">Selection</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Reproduction">Instances</h4><details id="i:Reproduction" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Reproduction:Read:1"></span> Read <a href="Control-Evolution.html#t:Reproduction" title="Control.Evolution">Reproduction</a></span> <a href="src/Control.Evolution.html#line-247" class="link">Source</a> <a href="#t:Reproduction" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Reproduction:Read:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Evolution.html">Control.Evolution</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:readsPrec">readsPrec</a> :: Int -&gt; ReadS <a href="Control-Evolution.html#t:Reproduction" title="Control.Evolution">Reproduction</a></p><p class="src"><a href="#v:readList">readList</a> :: ReadS [<a href="Control-Evolution.html#t:Reproduction" title="Control.Evolution">Reproduction</a>]</p><p class="src"><a href="#v:readPrec">readPrec</a> :: ReadPrec <a href="Control-Evolution.html#t:Reproduction" title="Control.Evolution">Reproduction</a></p><p class="src"><a href="#v:readListPrec">readListPrec</a> :: ReadPrec [<a href="Control-Evolution.html#t:Reproduction" title="Control.Evolution">Reproduction</a>]</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Reproduction:Show:2"></span> Show <a href="Control-Evolution.html#t:Reproduction" title="Control.Evolution">Reproduction</a></span> <a href="src/Control.Evolution.html#line-247" class="link">Source</a> <a href="#t:Reproduction" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Reproduction:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Evolution.html">Control.Evolution</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Control-Evolution.html#t:Reproduction" title="Control.Evolution">Reproduction</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Control-Evolution.html#t:Reproduction" title="Control.Evolution">Reproduction</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Control-Evolution.html#t:Reproduction" title="Control.Evolution">Reproduction</a>] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Selection" class="def">Selection</a> <a href="src/Control.Evolution.html#Selection" class="link">Source</a> <a href="#t:Selection" class="selflink">#</a></p><div class="doc"><p>Selection algorithms</p><ul><li>Tournament: tournament selection, samples n solutions and returns the best</li><li>RouletteWheel: roulette wheel, calculates the probability of choosing an individual proportional to its fitness and sample an individual using this probability distribution</li></ul></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Tournament" class="def">Tournament</a> Int</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:RouletteWheel" class="def">RouletteWheel</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Selection">Instances</h4><details id="i:Selection" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Selection:Read:1"></span> Read <a href="Control-Evolution.html#t:Selection" title="Control.Evolution">Selection</a></span> <a href="src/Control.Evolution.html#line-280" class="link">Source</a> <a href="#t:Selection" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Selection:Read:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Evolution.html">Control.Evolution</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:readsPrec">readsPrec</a> :: Int -&gt; ReadS <a href="Control-Evolution.html#t:Selection" title="Control.Evolution">Selection</a></p><p class="src"><a href="#v:readList">readList</a> :: ReadS [<a href="Control-Evolution.html#t:Selection" title="Control.Evolution">Selection</a>]</p><p class="src"><a href="#v:readPrec">readPrec</a> :: ReadPrec <a href="Control-Evolution.html#t:Selection" title="Control.Evolution">Selection</a></p><p class="src"><a href="#v:readListPrec">readListPrec</a> :: ReadPrec [<a href="Control-Evolution.html#t:Selection" title="Control.Evolution">Selection</a>]</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Selection:Show:2"></span> Show <a href="Control-Evolution.html#t:Selection" title="Control.Evolution">Selection</a></span> <a href="src/Control.Evolution.html#line-280" class="link">Source</a> <a href="#t:Selection" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Selection:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Evolution.html">Control.Evolution</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Control-Evolution.html#t:Selection" title="Control.Evolution">Selection</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Control-Evolution.html#t:Selection" title="Control.Evolution">Selection</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Control-Evolution.html#t:Selection" title="Control.Evolution">Selection</a>] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Predicate" class="def">Predicate</a> <a href="src/Control.Evolution.html#Predicate" class="link">Source</a> <a href="#t:Predicate" class="selflink">#</a></p><div class="doc"><p>Predicate for population filter </p><ul><li>Feasible: selects only the feasible solutions</li><li>Infeasible: selects only the infeasible solutions</li><li>All: selects the entire population</li></ul></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Feasible" class="def">Feasible</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Infeasible" class="def">Infeasible</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:AllOf" class="def">AllOf</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Predicate">Instances</h4><details id="i:Predicate" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Predicate:Read:1"></span> Read <a href="Control-Evolution.html#t:Predicate" title="Control.Evolution">Predicate</a></span> <a href="src/Control.Evolution.html#line-320" class="link">Source</a> <a href="#t:Predicate" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Predicate:Read:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Evolution.html">Control.Evolution</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:readsPrec">readsPrec</a> :: Int -&gt; ReadS <a href="Control-Evolution.html#t:Predicate" title="Control.Evolution">Predicate</a></p><p class="src"><a href="#v:readList">readList</a> :: ReadS [<a href="Control-Evolution.html#t:Predicate" title="Control.Evolution">Predicate</a>]</p><p class="src"><a href="#v:readPrec">readPrec</a> :: ReadPrec <a href="Control-Evolution.html#t:Predicate" title="Control.Evolution">Predicate</a></p><p class="src"><a href="#v:readListPrec">readListPrec</a> :: ReadPrec [<a href="Control-Evolution.html#t:Predicate" title="Control.Evolution">Predicate</a>]</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Predicate:Show:2"></span> Show <a href="Control-Evolution.html#t:Predicate" title="Control.Evolution">Predicate</a></span> <a href="src/Control.Evolution.html#line-320" class="link">Source</a> <a href="#t:Predicate" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Predicate:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Evolution.html">Control.Evolution</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Control-Evolution.html#t:Predicate" title="Control.Evolution">Predicate</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Control-Evolution.html#t:Predicate" title="Control.Evolution">Predicate</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Control-Evolution.html#t:Predicate" title="Control.Evolution">Predicate</a>] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Evolution" class="def">Evolution</a> t <a href="src/Control.Evolution.html#Evolution" class="link">Source</a> <a href="#t:Evolution" class="selflink">#</a></p><div class="doc"><p>DSL of an evolutionary process</p><p>The evolutionary process is composed of a reproduction strategy between 
 two evolutionary cycles applied to a filtered population.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Reproduce" class="def">Reproduce</a> <a href="Control-Evolution.html#t:Reproduction" title="Control.Evolution">Reproduction</a> [<a href="Control-Evolution.html#t:EvoCycle" title="Control.Evolution">EvoCycle</a> t]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Evolution">Instances</h4><details id="i:Evolution" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Evolution:Read:1"></span> <a href="Control-Evolution.html#t:EvoClass" title="Control.Evolution">EvoClass</a> t =&gt; Read (<a href="Control-Evolution.html#t:Evolution" title="Control.Evolution">Evolution</a> t)</span> <a href="src/Control.Evolution.html#line-336" class="link">Source</a> <a href="#t:Evolution" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Evolution:Read:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Evolution.html">Control.Evolution</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:readsPrec">readsPrec</a> :: Int -&gt; ReadS (<a href="Control-Evolution.html#t:Evolution" title="Control.Evolution">Evolution</a> t)</p><p class="src"><a href="#v:readList">readList</a> :: ReadS [<a href="Control-Evolution.html#t:Evolution" title="Control.Evolution">Evolution</a> t]</p><p class="src"><a href="#v:readPrec">readPrec</a> :: ReadPrec (<a href="Control-Evolution.html#t:Evolution" title="Control.Evolution">Evolution</a> t)</p><p class="src"><a href="#v:readListPrec">readListPrec</a> :: ReadPrec [<a href="Control-Evolution.html#t:Evolution" title="Control.Evolution">Evolution</a> t]</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Evolution:Show:2"></span> <a href="Control-Evolution.html#t:EvoClass" title="Control.Evolution">EvoClass</a> t =&gt; Show (<a href="Control-Evolution.html#t:Evolution" title="Control.Evolution">Evolution</a> t)</span> <a href="src/Control.Evolution.html#line-335" class="link">Source</a> <a href="#t:Evolution" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Evolution:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Evolution.html">Control.Evolution</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Control-Evolution.html#t:Evolution" title="Control.Evolution">Evolution</a> t -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Control-Evolution.html#t:Evolution" title="Control.Evolution">Evolution</a> t -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Control-Evolution.html#t:Evolution" title="Control.Evolution">Evolution</a> t] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:EvoCycle" class="def">EvoCycle</a> t <a href="src/Control.Evolution.html#EvoCycle" class="link">Source</a> <a href="#t:EvoCycle" class="selflink">#</a></p><div class="doc"><p>An evolution cycle is composed of a sequence of
 crossover and mutation operations. The order and quantity of each operation 
 is arbitrary.</p><ul><li>Cross: applies a <code><a href="Control-Evolution.html#t:Crossover" title="Control.Evolution">Crossover</a></code> operator to <code>n</code> individuals with <code>p</code> probability
          and sampling individuals using <code><a href="Control-Evolution.html#t:Selection" title="Control.Evolution">Selection</a></code> strategy</li><li>Mutate: applies a <code><a href="Control-Evolution.html#t:Mutation" title="Control.Evolution">Mutation</a></code> operator with probability <code>p</code></li></ul><p>Common evolution cycle: </p><p>Cross OnePoint 2 0.8 (Tournament 2) 
      (Mutate SwapTree 0.2 End)</p><p>With Local Search: </p><p>Cross OnePoint 2 0.8 (Tournament 2) 
      (Mutate SwapTree 0.2
         (Mutate LocalSearch 1.0 End))</p><p>data EvoCycle t = Loop (Gen t)</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src">(<a href="Control-Evolution.html#t:Op" title="Control.Evolution">Op</a> t) <a id="v::-62-" class="def">:&gt;</a> (<a href="Control-Evolution.html#t:EvoCycle" title="Control.Evolution">EvoCycle</a> t) <span class="fixity">infixr 5</span><span class="rightedge"></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Done" class="def">Done</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Parent" class="def">Parent</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:EvoCycle">Instances</h4><details id="i:EvoCycle" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EvoCycle:Read:1"></span> <a href="Control-Evolution.html#t:EvoClass" title="Control.Evolution">EvoClass</a> t =&gt; Read (<a href="Control-Evolution.html#t:EvoCycle" title="Control.Evolution">EvoCycle</a> t)</span> <a href="src/Control.Evolution.html#line-367" class="link">Source</a> <a href="#t:EvoCycle" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EvoCycle:Read:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Evolution.html">Control.Evolution</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:readsPrec">readsPrec</a> :: Int -&gt; ReadS (<a href="Control-Evolution.html#t:EvoCycle" title="Control.Evolution">EvoCycle</a> t)</p><p class="src"><a href="#v:readList">readList</a> :: ReadS [<a href="Control-Evolution.html#t:EvoCycle" title="Control.Evolution">EvoCycle</a> t]</p><p class="src"><a href="#v:readPrec">readPrec</a> :: ReadPrec (<a href="Control-Evolution.html#t:EvoCycle" title="Control.Evolution">EvoCycle</a> t)</p><p class="src"><a href="#v:readListPrec">readListPrec</a> :: ReadPrec [<a href="Control-Evolution.html#t:EvoCycle" title="Control.Evolution">EvoCycle</a> t]</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EvoCycle:Show:2"></span> <a href="Control-Evolution.html#t:EvoClass" title="Control.Evolution">EvoClass</a> t =&gt; Show (<a href="Control-Evolution.html#t:EvoCycle" title="Control.Evolution">EvoCycle</a> t)</span> <a href="src/Control.Evolution.html#line-366" class="link">Source</a> <a href="#t:EvoCycle" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EvoCycle:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Evolution.html">Control.Evolution</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Control-Evolution.html#t:EvoCycle" title="Control.Evolution">EvoCycle</a> t -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Control-Evolution.html#t:EvoCycle" title="Control.Evolution">EvoCycle</a> t -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Control-Evolution.html#t:EvoCycle" title="Control.Evolution">EvoCycle</a> t] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Op" class="def">Op</a> t <a href="src/Control.Evolution.html#Op" class="link">Source</a> <a href="#t:Op" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Cross" class="def">Cross</a> (<a href="Control-Evolution.html#t:Crossover" title="Control.Evolution">Crossover</a> t) Int Double <a href="Control-Evolution.html#t:Selection" title="Control.Evolution">Selection</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Mutate" class="def">Mutate</a> (<a href="Control-Evolution.html#t:Mutation" title="Control.Evolution">Mutation</a> t) Double</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:With" class="def">With</a> <a href="Control-Evolution.html#t:Predicate" title="Control.Evolution">Predicate</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Op">Instances</h4><details id="i:Op" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Op:Read:1"></span> <a href="Control-Evolution.html#t:EvoClass" title="Control.Evolution">EvoClass</a> t =&gt; Read (<a href="Control-Evolution.html#t:Op" title="Control.Evolution">Op</a> t)</span> <a href="src/Control.Evolution.html#line-369" class="link">Source</a> <a href="#t:Op" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Op:Read:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Evolution.html">Control.Evolution</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:readsPrec">readsPrec</a> :: Int -&gt; ReadS (<a href="Control-Evolution.html#t:Op" title="Control.Evolution">Op</a> t)</p><p class="src"><a href="#v:readList">readList</a> :: ReadS [<a href="Control-Evolution.html#t:Op" title="Control.Evolution">Op</a> t]</p><p class="src"><a href="#v:readPrec">readPrec</a> :: ReadPrec (<a href="Control-Evolution.html#t:Op" title="Control.Evolution">Op</a> t)</p><p class="src"><a href="#v:readListPrec">readListPrec</a> :: ReadPrec [<a href="Control-Evolution.html#t:Op" title="Control.Evolution">Op</a> t]</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Op:Show:2"></span> <a href="Control-Evolution.html#t:EvoClass" title="Control.Evolution">EvoClass</a> t =&gt; Show (<a href="Control-Evolution.html#t:Op" title="Control.Evolution">Op</a> t)</span> <a href="src/Control.Evolution.html#line-368" class="link">Source</a> <a href="#t:Op" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Op:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Evolution.html">Control.Evolution</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Control-Evolution.html#t:Op" title="Control.Evolution">Op</a> t -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Control-Evolution.html#t:Op" title="Control.Evolution">Op</a> t -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Control-Evolution.html#t:Op" title="Control.Evolution">Op</a> t] -&gt; ShowS</p></div></details></td></tr></table></details></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>